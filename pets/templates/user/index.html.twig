{% extends 'base.html.twig' %}


{% block title %}Usuarios{% endblock %}


{% block body %}
<h1> {{ titulo }} </h1>

<!-- Botão para abrir o formulário -->
<button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#formSection" aria-expanded="false" aria-controls="formSection">
  Novo
</button>

<!-- Seção colapsável com o formulário -->
<div class="collapse" id="formSection">
  <div class="card card-body mt-3">
    <h2>Cadastro de Usuário</h2>
    
      <div class="mb-3">
        {{ form_widget(form.nome) }}
      </div>
      
      <div class="mb-3">
        {{ form_widget(form.email) }}
      </div>
      
      <div class="mb-3">
        {{ form_widget(form.plainPassword) }}
      </div>

      <div class="mb-3">
        {{ form_widget(form.roles) }}
      </div>
  </div>
</div>


<table class='table'>
        <thead>
            <tr>
                <td>Id</td>
                <td>Nome</td>
                <td>Email</td>
            </tr>
        </thead>
        <tbody>
            {% for usuario in usuarios %}
                <tr>
                    <td>{{ usuario.Id }}</td>
                    <td>{{ usuario.Nome }}</td>
                    <td>{{ usuario.Email }}</td>
                    <td>
                        <a href="#" class="btn btn-primary">Editar</a>
                        <a href="#" class="btn btn-primary">Excluir</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}
